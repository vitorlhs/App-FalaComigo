{"version":3,"file":"menu.js","sourceRoot":"","sources":["menu.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport '../../list/list.js';\nimport '../../menusurface/menu-surface.js';\n\nimport {html, LitElement} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\nimport {ariaProperty} from '../../decorators/aria-property.js';\nimport {List} from '../../list/lib/list.js';\nimport {ListItem} from '../../list/lib/listitem/list-item.js';\nimport {Corner, MenuSurface} from '../../menusurface/lib/menu-surface.js';\n\nimport {MDCMenuAdapter} from './adapter.js';\nimport {MDCMenuFoundation} from './foundation.js';\n\ninterface ActionDetail {\n  item: ListItem;\n}\n\n/** Element to focus on when menu is first opened. */\nexport type DefaultFocusState = 'NONE'|'LIST_ROOT'|'FIRST_ITEM'|'LAST_ITEM';\n\n/**\n * @fires selected {SelectedDetail}\n * @fires action {ActionDetail}\n * @fires items-updated\n * @fires opened\n * @fires closed\n */\nexport abstract class Menu extends LitElement {\n  protected mdcFoundation!: MDCMenuFoundation;\n\n  protected listElementInternal: List|null = null;\n\n  @query('.md3-menu') mdcRoot!: MenuSurface;\n\n  @query('slot') slotElement!: HTMLSlotElement|null;\n\n  @property({type: Object}) anchor: HTMLElement|null = null;\n\n  @ariaProperty  // tslint:disable-line:no-new-decorators\n  @property({type: String, attribute: 'data-aria-label', noAccessor: true})\n  override ariaLabel!: string;\n\n  @property({type: Boolean, reflect: true}) open = false;\n\n  @property({type: Boolean}) quick = false;\n\n  @property({type: String}) corner: Corner = 'BOTTOM_START';\n\n  @property({type: Number}) x: number|null = null;\n\n  @property({type: Number}) y: number|null = null;\n\n  @property({type: Boolean}) absolute = false;\n\n  @property({type: Boolean}) activatable = false;\n\n  @property({type: Boolean}) fixed = false;\n\n  @property({type: Boolean}) forceGroupSelection = false;\n\n  @property({type: Boolean}) fullwidth = false;\n\n  @property({type: Boolean}) flipMenuHorizontally = false;\n\n  @property({type: Boolean}) stayOpenOnBodyClick = false;\n\n  @property({type: Boolean}) skipRestoreFocus = false;\n\n  @property({type: String}) defaultFocus: DefaultFocusState = 'LIST_ROOT';\n\n  protected listUpdateComplete: null|Promise<unknown> = null;\n\n  protected get listElement() {\n    if (!this.listElementInternal) {\n      this.listElementInternal = this.renderRoot.querySelector('md-list');\n      return this.listElementInternal;\n    }\n\n    return this.listElementInternal;\n  }\n\n  get items(): ListItem[] {\n    const listElement = this.listElement;\n\n    if (listElement) {\n      return listElement.items;\n    }\n\n    return [];\n  }\n\n  override render() {\n    return html`\n      <md-menu-surface\n          ?hidden=${!this.open}\n          .anchor=${this.anchor}\n          .open=${this.open}\n          .quick=${this.quick}\n          .corner=${this.corner}\n          .x=${this.x}\n          .y=${this.y}\n          .absolute=${this.absolute}\n          .fixed=${this.fixed}\n          .fullwidth=${this.fullwidth}\n          .flipMenuHorizontally=${this.flipMenuHorizontally}\n          .skipRestoreFocus=${this.skipRestoreFocus}\n          ?stayOpenOnBodyClick=${this.stayOpenOnBodyClick}\n          class=\"md3-menu\"\n          @closed=${this.onClosed}\n          @opened=${this.onOpened}\n          @keydown=${this.onKeydown}>\n        <md-list\n          aria-label=\"${ifDefined(this.ariaLabel)}\"\n          role=${'menu'}\n          .listTabIndex=${\n        - 1}\n          .listItemTagName=${this.getMenuItemTagName()}\n          @action=${this.onAction}>\n        <slot></slot>\n      </md-list>\n    </md-menu-surface>`;\n  }\n\n  protected getMenuItemTagName() {\n    return 'md-menu-item';\n  }\n\n  protected createAdapter(): MDCMenuAdapter {\n    return {\n      addClassToElementAtIndex: (index, className) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        element.classList.add(className);\n      },\n      removeClassFromElementAtIndex: (index, className) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        element.classList.remove(className);\n      },\n      addAttributeToElementAtIndex: (index, attr, value) => {\n          // TODO(b/240174946): This method is only used for setting\n          // `aria-checked` and `aria-disabled` on the menu items when selected\n          // and disabled states change. Remove this in favor of adding to the\n          // template declaratively.\n      },\n      removeAttributeFromElementAtIndex: (index, attr) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        element.removeAttribute(attr);\n      },\n      getAttributeFromElementAtIndex: (index, attr) => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return null;\n        }\n\n        const element = listElement.items[index];\n\n        if (!element) {\n          return null;\n        }\n\n        return element.getAttribute(attr);\n      },\n      elementContainsClass: (element, className) =>\n          element.classList.contains(className),\n      closeSurface: (skipRestoreFocus) => {\n        this.skipRestoreFocus = Boolean(skipRestoreFocus);\n        this.open = false;\n      },\n      getElementIndex: (element) => {\n        const listElement = this.listElement;\n        if (listElement) {\n          return listElement.items.indexOf(element as ListItem);\n        }\n\n        return -1;\n      },\n      notifySelected: () => {/** handled by list */},\n      getMenuItemCount: () => {\n        const listElement = this.listElement;\n        if (!listElement) {\n          return 0;\n        }\n\n        return listElement.items.length;\n      },\n      getSelectedSiblingOfItemAtIndex: (index) => {\n        const listElement = this.listElement;\n\n        if (!listElement) {\n          return -1;\n        }\n\n        // TODO(b/240177152): Remove/refactor this when implementing keyboard\n        // navigation support.\n        // const elementAtIndex = listElement.items[index];\n        // if (!elementAtIndex || !elementAtIndex.group) {\n        //   return -1;\n        // }\n        // for (let i = 0; i < listElement.items.length; i++) {\n        //   if (i === index) {\n        //     continue;\n        //   }\n        //   const current = listElement.items[i];\n        //   if (current.selected && current.group === elementAtIndex.group) {\n        //     return i;\n        //   }\n        // }\n\n        return -1;\n      },\n      isSelectableItemAtIndex: (index) => {\n        const listElement = this.listElement;\n\n        if (!listElement) {\n          return false;\n        }\n\n        const elementAtIndex = listElement.items[index];\n\n        if (!elementAtIndex) {\n          return false;\n        }\n\n        return elementAtIndex.hasAttribute('group');\n      },\n    };\n  }\n\n  protected onKeydown(evt: KeyboardEvent) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleKeydown(evt);\n    }\n  }\n\n  protected onAction(evt: CustomEvent<ActionDetail>) {\n    const listElement = this.listElement;\n    if (this.mdcFoundation && listElement) {\n      const el = evt.detail.item;\n\n      if (el) {\n        this.mdcFoundation.handleItemAction(el);\n      }\n    }\n  }\n\n  protected onOpened() {\n    this.skipRestoreFocus = false;\n    this.open = true;\n\n    this.listElement?.resetActiveListItem();\n    switch (this.defaultFocus) {\n      case 'FIRST_ITEM':\n        this.listElement?.activateFirstItem();\n        break;\n      case 'LAST_ITEM':\n        this.listElement?.activateLastItem();\n        break;\n      case 'NONE':\n        // Do nothing.\n        break;\n      case 'LIST_ROOT':\n      default:\n        this.listElement?.focus();\n        break;\n    }\n  }\n\n  protected onClosed() {\n    this.open = false;\n  }\n\n  // tslint:disable:ban-ts-suppressions\n  protected override async getUpdateComplete() {\n    await this.listUpdateComplete;\n    // @ts-ignore\n    const result = await super.getUpdateComplete();\n    return result;\n  }\n  // tslint:enable:ban-ts-suppressions\n\n  protected override async firstUpdated() {\n    if (this.mdcFoundation !== undefined) {\n      this.mdcFoundation.destroy();\n    }\n    this.mdcFoundation = new MDCMenuFoundation(this.createAdapter());\n\n    const listElement = this.listElement;\n\n    if (listElement) {\n      this.listUpdateComplete = listElement.updateComplete;\n      await this.listUpdateComplete;\n    }\n  }\n\n  close() {\n    this.open = false;\n  }\n\n  show() {\n    this.open = true;\n  }\n}\n"]}