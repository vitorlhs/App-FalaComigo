{"version":3,"file":"icon-button-toggle.js","sourceRoot":"","sources":["icon-button-toggle.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Required for @ariaProperty\n// tslint:disable:no-new-decorators\n\nimport '../../focus/focus-ring.js';\nimport '../../icon/icon.js';\nimport '../../ripple/ripple.js';\n\nimport {html, LitElement, TemplateResult} from 'lit';\nimport {property, queryAsync, state} from 'lit/decorators.js';\nimport {ClassInfo, classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\nimport {when} from 'lit/directives/when.js';\n\nimport {ariaProperty} from '../../decorators/aria-property.js';\nimport {pointerPress, shouldShowStrongFocus} from '../../focus/strong-focus.js';\nimport {ripple} from '../../ripple/directive.js';\nimport {MdRipple} from '../../ripple/ripple.js';\n\n/**\n * @fires icon-button-toggle-change {CustomEvent<{selected: boolean}>}\n * Dispatched whenever `selected` is changed via user click\n */\nexport class IconButtonToggle extends LitElement {\n  @ariaProperty\n  @property({type: String, attribute: 'data-aria-label'})\n  override ariaLabel!: string;\n\n  /**\n   * Disables the icon button and makes it non-interactive.\n   */\n  @property({type: Boolean, reflect: true}) disabled = false;\n\n  /**\n   * The glyph of the icon to display from the applied icon font when toggle\n   * button is selected or \"on\". See the associated typography tokens for more\n   * info.\n   */\n  @property({type: String}) onIcon = '';\n\n  /**\n   * The glyph of the icon to display from the applied icon font when toggle\n   * button is not selected or \"off\". See the associated typography tokens for\n   * more info.\n   */\n  @property({type: String}) offIcon = '';\n\n  /**\n   * The `aria-label` of the button when the toggle button is selected or \"on\".\n   */\n  @property({type: String}) ariaLabelOn!: string;\n\n  /**\n   * The `aria-label` of the button when the toggle button is not selected or\n   * \"off\".\n   */\n  @property({type: String}) ariaLabelOff!: string;\n\n  /**\n   * Sets the toggle button to the \"on\" state and displays the `onIcon`. If\n   * false, sets the toggle button to the \"off\" state and displays the\n   * `offIcon`.\n   */\n  @property({type: Boolean, reflect: true}) selected = false;\n\n  @queryAsync('md-ripple') ripple!: Promise<MdRipple|null>;\n\n  @state() protected showFocusRing = false;\n\n  @state() protected showRipple = false;\n\n  protected readonly getRipple = () => {\n    this.showRipple = true;\n    return this.ripple;\n  };\n\n  protected readonly renderRipple = () => {\n    return html`<md-ripple ?disabled=\"${this.disabled}\"></md-ripple>`;\n  };\n\n  protected override render(): TemplateResult {\n    const hasToggledAriaLabel = this.ariaLabelOn && this.ariaLabelOff;\n    const ariaPressedValue = hasToggledAriaLabel ? undefined : this.selected;\n    const ariaLabelValue = hasToggledAriaLabel ?\n        (this.selected ? this.ariaLabelOn : this.ariaLabelOff) :\n        this.ariaLabel;\n    return html`<button\n          class=\"md3-icon-button ${classMap(this.getRenderClasses())}\"\n          aria-pressed=\"${ifDefined(ariaPressedValue)}\"\n          aria-label=\"${ifDefined(ariaLabelValue)}\"\n          ?disabled=\"${this.disabled}\"\n          @focus=\"${this.handleFocus}\"\n          @blur=\"${this.handleBlur}\"\n          @pointerdown=\"${this.handlePointerDown}\"\n          @click=\"${this.handleClick}\"\n          ${ripple(this.getRipple)}>\n        ${this.renderFocusRing()}\n        ${when(this.showRipple, this.renderRipple)}\n        ${this.renderTouchTarget()}\n        <span class=\"md3-icon-button__icon\">\n          <slot name=\"offIcon\">${this.renderIcon(this.offIcon)}</slot>\n        </span>\n        <span class=\"md3-icon-button__icon md3-icon-button__icon--on\">\n          <slot name=\"onIcon\">${this.renderIcon(this.onIcon)}</slot>\n        </span>\n      </button>`;\n  }\n\n  protected getRenderClasses(): ClassInfo {\n    return {\n      'md3-icon-button--on': this.selected,\n    };\n  }\n\n  protected renderIcon(icon: string): TemplateResult|string {\n    return icon ? html`<md-icon>${icon}</md-icon>` : '';\n  }\n\n  protected renderTouchTarget(): TemplateResult {\n    return html`<span class=\"md3-icon-button__touch\"></span>`;\n  }\n\n  protected renderFocusRing(): TemplateResult {\n    return html`<md-focus-ring .visible=\"${\n        this.showFocusRing}\"></md-focus-ring>`;\n  }\n\n  protected handlePointerDown(e: PointerEvent) {\n    pointerPress();\n    this.showFocusRing = shouldShowStrongFocus();\n  }\n\n  protected handleFocus() {\n    this.showFocusRing = shouldShowStrongFocus();\n  }\n\n  protected handleBlur() {\n    this.showFocusRing = false;\n  }\n\n  protected handleClick() {\n    this.selected = !this.selected;\n    const detail = {selected: this.selected};\n    this.dispatchEvent(new CustomEvent(\n        'icon-button-toggle-change', {detail, bubbles: true, composed: true}));\n  }\n}\n"]}